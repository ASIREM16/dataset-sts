The Ubuntu Dialogue Corpus
==========================

This is not an "answer sentence selection" problem per se, but it is the same
kind of bipartite ranking task.  It was introduced in [(Lowe, 1506.08909)](http://arxiv.org/abs/1506.08909).

There are two datasets.  v1, which has two published papers comparing models
with it, and v2, which is a nicer dataset but the results are unpublished yet.
We champion v2, also for technical reasons.

This corpus is obviously too big to be included as-is in this repository.
To get it, follow per-version instructions below.

Regarding software, use ``tools/ubuntu_preprocess.py`` and ``tools/ubuntu_train.py``.
See instructions on top of ``tools/ubuntu_train.py`` re preprocessing
the csv files (the dataset is too large to be fed directly to the
train tool).

Corpus v2.0
-----------

To download v2 generated by the process below, use (in this (data/anssel/ubuntu/)
directory):

	wget http://rover.ms.mff.cuni.cz/~pasky/ubuntu-dialog/v2-trainset.csv.gz
	wget http://rover.ms.mff.cuni.cz/~pasky/ubuntu-dialog/v2-valset.csv.gz
	wget http://rover.ms.mff.cuni.cz/~pasky/ubuntu-dialog/v2-testnset.csv.gz
	gunzip v2*.gz

To generate v2, we first need to generate the sentence pairs, allow about 12
hours for this process.  Then, we need to post-process it for tokenization
(using brendan o'connor's tweet tokenizer, which deals right with "chatspeak":
URLs, emoticons etc.; we use a slightly tweaked version).

Run these commands in this (data/anssel/ubuntu/) directory:

	git clone https://github.com/rkadlec/ubuntu-ranking-dataset-creator
	cd ubuntu-ranking-dataset-creator/src
	./generate.sh
	cd ../../

	git clone https://github.com/brmson/tweetmotif
	touch tweetmotif/__init__.py
	./preprocess.py ubuntu-ranking-dataset-creator/src/train.csv v2-trainset.csv train
	./preprocess.py ubuntu-ranking-dataset-creator/src/valid.csv v2-valset.csv test
	./preprocess.py ubuntu-ranking-dataset-creator/src/test.csv v2-testset.csv test

Corpus v1.0
-----------

  * http://cs.mcgill.ca/~jpineau/datasets/ubuntu-corpus-1.0/

To get it, run these commands in this (data/anssel/ubuntu/) directory:

	for i in aa ab ac ad ae; do wget http://cs.mcgill.ca/~npow1/data/ubuntu_dataset.tgz.$i; done
	cat ubuntu_dataset.tgz.a* | tar xz
	mv ubuntu_csvfiles/trainset.csv v1-trainset.csv
	mv ubuntu_csvfiles/valset.csv v1-valset.csv
	mv ubuntu_csvfiles/testset.csv v1-testset.csv

The main problem with v1 is that we can't use it as-is anyway as the trainset
is wrong!  It does not include the postprocessing (tokenization(!!!), NE
substitution) that val and test datasets do.  It should be possible to
reconstruct that using

	https://github.com/ryan-lowe/Ubuntu-Dialogue-Generationv2
